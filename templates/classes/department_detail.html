{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto p-4">
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-semibold">{{ department.name }}</h1>
    <div>
      <a href="{% url 'classes:department_edit' department.id %}" class="btn">Edit</a>
      <a href="{% url 'classes:department_delete' department.id %}" class="btn btn-danger">Delete</a>
    </div>
  </div>

  <div class="grid grid-cols-3 gap-4">
    <div class="col-span-2 p-4 bg-white border rounded">
      <p><strong>Code:</strong> {{ department.code }}</p>
      <p><strong>Head:</strong> {{ department.head }}</p>
      <p class="mt-2">{{ department.description }}</p>
      <h3 class="mt-4 font-semibold">Subjects</h3>
      <ul>
        {% for s in courses %}
          <li>{{ s.code }} â€” {{ s.name }}</li>
        {% empty %}
          <li>No subjects assigned.</li>
        {% endfor %}
      </ul>
    </div>
    <div class="p-4 bg-white border rounded">
      <h3 class="font-semibold">Summary</h3>
      <p><strong>Staff:</strong> {{ staff_count }}</p>
      <p><strong>Students linked to dept subjects:</strong> {{ student_count }}</p>
    </div>
  </div>
</div>
{% endblock %}
